name: Executar Monitor de PreÃ§os V1



on:

Â  schedule:

Â  Â  - cron: "*/30 * * * *"Â  # A cada 30 minutos

Â  workflow_dispatch:Â  Â  Â  Â  # Permite rodar manualmente



jobs:

Â  run-monitor:

Â  Â  runs-on: ubuntu-latest



Â  Â  steps:

Â  Â  Â  - name: Baixar cÃ³digo do repositÃ³rio

Â  Â  Â  Â  uses: actions/checkout@v3



Â  Â  Â  - name: Configurar Python

Â  Â  Â  Â  uses: actions/setup-python@v4

Â  Â  Â  Â  with:

Â  Â  Â  Â  Â  python-version: "3.11"Â  Â # ðŸ”¹ Alterado para versÃ£o mais recente



Â  Â  Â  - name: Instalar dependÃªncias

Â  Â  Â  Â  run: |

Â  Â  Â  Â  Â  python -m pip install --upgrade pip

Â  Â  Â  Â  Â  pip install -r requirements.txt



Â  Â  Â  - name: Rodar monitor de preÃ§os

Â  Â  Â  Â  env:

Â  Â  Â  Â  Â  TOKEN: ${{ secrets.TOKEN }}

Â  Â  Â  Â  Â  CHAT_ID: ${{ secrets.CHAT_ID }}

Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  run: |

Â  Â  Â  Â  Â  python -u monitor_ml.py
